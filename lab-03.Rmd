---
title: "Lab 03 - Nobel laureates"
author: "Tiffani Hill"
date: "01/30/2026"
output: github_document
---

### Load packages and data

```{r load-packages, message=FALSE}
library(tidyverse) 
library(skimr)
```

```{r load-data, message=FALSE}
nobel <- read_csv("data/nobel.csv")
```

## Exercises

### Exercise 1
There are 935 observations, which as represented by rows. There are 26 variables.
```{r numberofobs-variables}
skim(nobel)

```

### Exercise 2

```{r new-data-frame}
nobel_living <- nobel %>% 
  filter(
  is.na(died_date),
  !is.na(country),
  gender != "org"
  )
nrow(nobel_living)



```

### Exercise 3
Most nobel prizes were won by individuals in the USA. The Buzzfeed headline is partially supported by this data. This graph does not show us where these individuals were born, but it does prove that most living Nobel laureates in the sciences are based in the US. 
```{r US-winners}
nobel_living <- nobel_living %>% 
  mutate(
    country_us = if_else(country == "USA", "USA", "Other"
  ))
nobel_living_science <- nobel_living %>% 
  filter(category %in% c("Physics", "Medicine", "Chemistry", "Economics"))

library(dplyr)
library(ggplot2)

ggplot(nobel_living_science, aes(x = country_us)) +
  geom_bar() +
  facet_wrap(~ category) + 
  coord_flip() +
  labs (
    x = "In the US when the prize was won",
    y = "Number of laureates",
    title = "Nobel Laureates in Science: US vs Other Countries"
  ) +
  scale_x_discrete(labels = c("FALSE" = "Other", "TRUE" = "US"))
```

### Exercise 4
105 winners were born in the US.
```{r us-based-nobel-laureates}
born_country_us <- nobel_living %>% 
  mutate(
    born_country_us = if_else(born_country == "USA", "USA", "Other")
  )

```
...

### Exercise 5
This diagram doesn't appear to support Buzzfeed's claim. Most people who won a nobel peace prize in the US were born in the USA. 
```{r add-variable-exercise5, warning=FALSE}
nobel_living <- nobel_living %>% 
  mutate(
    country_us = if_else(country == "USA", "USA", "Other"
  ))
nobel_living_science <- nobel_living %>% 
  filter(category %in% c("Physics", "Medicine", "Chemistry", "Economics"))

library(dplyr)
library(ggplot2)

ggplot(nobel_living_science, aes(x = country_us, fill = born_country_us)) +
  geom_bar() +
  facet_grid(~category) + 
  coord_flip() +
  labs(
    x = "Country they were in when they won",
    y = "Number of laureates"
    
  )

 

         
```

### Exercise 6
Germany is the most common country.
```{r immigrants-won-US}

nobel_living %>% 
  filter(country_us == "USA", born_country != "USA") %>% 
  count(born_country) %>%
  arrange(desc(n))


```
...
